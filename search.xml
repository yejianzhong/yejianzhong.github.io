<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>在WSDL配置内添加新方法</title>
      <link href="/2019/11/13/%E5%9C%A8WSDL%E9%85%8D%E7%BD%AE%E5%86%85%E6%B7%BB%E5%8A%A0%E6%96%B0%E6%96%B9%E6%B3%95/"/>
      <url>/2019/11/13/%E5%9C%A8WSDL%E9%85%8D%E7%BD%AE%E5%86%85%E6%B7%BB%E5%8A%A0%E6%96%B0%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p># </p><p>命名规则：以put<strong><strong>Data,及put</strong></strong>DataResponse，比如要处理Location业务，我们可以命名为</p><p>putLocationData及putLocationResponse。因此在你想复制本文的基本配置前，你可以先将本文的原</p><p>方法基本字符（AsnSerialno）全部替换为你期望的方法名如：Location，再维护好表字段信息后即</p><p>可按以下节点路径复制到WSDL文件内即可。</p><p>关于字段信息，我们可以通过SQL查询获取，以便快捷及准确，查表结构用SQL（自行替换你需要查询OWNER及TableName）</p><p>select ‘&lt;xs:element minOccurs=”0” name=”‘||a.COLUMN_NAME||’” type=”xs:string” /&gt;’ from all_tab_columns a where a.OWNER=’WMS_V431’ and a.TABLE_NAME=upper(‘doc_asn_serialno’) order by a.COLUMN_NAME; </p><p>同时关于字段信息内容的，不想显示的字段可以不配置到文件中。</p><p><strong><strong><strong><strong><strong><strong>*****</strong></strong></strong></strong></strong></strong>操作前请先备份原WSDL文件，以名配置出错无法还原。<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></p><h3 id="1-在wsdl-typesxs-schema-之间添加信息"><a href="#1-在wsdl-typesxs-schema-之间添加信息" class="headerlink" title="1      在wsdl:typesxs:schema 之间添加信息"></a>1      在<a href="wsdl:types" target="_blank" rel="noopener">wsdl:types</a><a href="xs:schema" target="_blank" rel="noopener">xs:schema</a> 之间添加信息</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"putAsnSerialnoData"</span> <span class="attr">type</span>=<span class="string">"tns:putAsnSerialnoData"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"putAsnSerialnoDataResponse"</span> <span class="attr">type</span>=<span class="string">"tns:putAsnSerialnoDataResponse"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"wmsAsnSerialnoHeader"</span> <span class="attr">type</span>=<span class="string">"tns:wmsAsnSerialnoHeader"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"wmsAsnSerialnoInfo"</span> <span class="attr">type</span>=<span class="string">"tns:wmsAsnSerialnoInfo"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:complexType</span> <span class="attr">name</span>=<span class="string">"putAsnSerialnoData"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">minOccurs</span>=<span class="string">"0"</span> <span class="attr">name</span>=<span class="string">"wmsSecurityInfo"</span> <span class="attr">type</span>=<span class="string">"tns:wmsSecurityInfo"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">minOccurs</span>=<span class="string">"0"</span> <span class="attr">name</span>=<span class="string">"wmsAsnSerialnoInfo"</span> <span class="attr">type</span>=<span class="string">"tns:wmsAsnSerialnoInfo"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">minOccurs</span>=<span class="string">"0"</span> <span class="attr">name</span>=<span class="string">"wmsParam"</span> <span class="attr">type</span>=<span class="string">"tns:wmsParamInfo"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">xs:complexType</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:complexType</span> <span class="attr">name</span>=<span class="string">"wmsAsnSerialnoHeader"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:sequence</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在这里粘入刚才SQL查询到的表结构结果内容。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">xs:complexType</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:complexType</span> <span class="attr">name</span>=<span class="string">"wmsAsnSerialnoInfo"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">maxOccurs</span>=<span class="string">"unbounded"</span> <span class="attr">minOccurs</span>=<span class="string">"0"</span> <span class="attr">name</span>=<span class="string">"wmsAsnSerialnoHeader"</span> <span class="attr">nillable</span>=<span class="string">"true"</span> <span class="attr">type</span>=<span class="string">"tns:wmsAsnSerialnoHeader"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">minOccurs</span>=<span class="string">"0"</span> <span class="attr">name</span>=<span class="string">"wmsResultInfo"</span> <span class="attr">type</span>=<span class="string">"tns:wmsResultInfo"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">xs:complexType</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:complexType</span> <span class="attr">name</span>=<span class="string">"putAsnSerialnoDataResponse"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">minOccurs</span>=<span class="string">"0"</span> <span class="attr">name</span>=<span class="string">"return"</span> <span class="attr">type</span>=<span class="string">"tns:wmsResultInfo"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">xs:complexType</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-在新的位置，正文内添加下面内容"><a href="#2-在新的位置，正文内添加下面内容" class="headerlink" title="2      在新的位置，正文内添加下面内容"></a>2      在新的位置，正文内添加下面内容</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">wsdl:message</span> <span class="attr">name</span>=<span class="string">"putAsnSerialnoData"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">wsdl:part</span> <span class="attr">element</span>=<span class="string">"tns:putAsnSerialnoData"</span> <span class="attr">name</span>=<span class="string">"parameters"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">wsdl:part</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">wsdl:message</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">wsdl:message</span> <span class="attr">name</span>=<span class="string">"putAsnSerialnoDataResponse"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">wsdl:part</span> <span class="attr">element</span>=<span class="string">"tns:putAsnSerialnoDataResponse"</span> <span class="attr">name</span>=<span class="string">"parameters"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">wsdl:part</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">wsdl:message</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-在wsdl-portType之间添加下面内容"><a href="#3-在wsdl-portType之间添加下面内容" class="headerlink" title="3      在wsdl:portType之间添加下面内容"></a>3      在<a href="wsdl:portType" target="_blank" rel="noopener">wsdl:portType</a>之间添加下面内容</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">wsdl:operation</span> <span class="attr">name</span>=<span class="string">"putAsnSerialnoData"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">wsdl:input</span> <span class="attr">message</span>=<span class="string">"tns:putAsnSerialnoData"</span> <span class="attr">name</span>=<span class="string">"putAsnSerialnoData"</span>&gt;</span><span class="tag">&lt;/<span class="name">wsdl:input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">wsdl:output</span> <span class="attr">message</span>=<span class="string">"tns:putAsnSerialnoDataResponse"</span> <span class="attr">name</span>=<span class="string">"putAsnSerialnoDataResponse"</span>&gt;</span><span class="tag">&lt;/<span class="name">wsdl:output</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">wsdl:operation</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="4-在wsdl-binding之间添加下面内容"><a href="#4-在wsdl-binding之间添加下面内容" class="headerlink" title="4      在wsdl:binding之间添加下面内容"></a>4      在<a href="wsdl:binding" target="_blank" rel="noopener">wsdl:binding</a>之间添加下面内容</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">wsdl:operation</span> <span class="attr">name</span>=<span class="string">"putAsnSerialnoData"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;<span class="name">soap:operation</span> <span class="attr">soapAction</span>=<span class="string">""</span> <span class="attr">style</span>=<span class="string">"document"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="tag">&lt;<span class="name">wsdl:input</span> <span class="attr">name</span>=<span class="string">"putAsnSerialnoData"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">         <span class="tag">&lt;<span class="name">soap:body</span> <span class="attr">use</span>=<span class="string">"literal"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="tag">&lt;/<span class="name">wsdl:input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="tag">&lt;<span class="name">wsdl:output</span> <span class="attr">name</span>=<span class="string">"putAsnSerialnoDataResponse"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">         <span class="tag">&lt;<span class="name">soap:body</span> <span class="attr">use</span>=<span class="string">"literal"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="tag">&lt;/<span class="name">wsdl:output</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">wsdl:operation</span>&gt;</span></span><br></pre></td></tr></table></figure><p>​      </p><p>============================== WSDL间添加内容全部结束 ======================    </p>]]></content>
      
      
      <categories>
          
          <category> DATAHUB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DATAHUB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DATAHUB_TEST</title>
      <link href="/2019/09/14/DATAHUB_TEST/"/>
      <url>/2019/09/14/DATAHUB_TEST/</url>
      
        <content type="html"><![CDATA[<h1 id="DATAHUB新建文档测试"><a href="#DATAHUB新建文档测试" class="headerlink" title="DATAHUB新建文档测试"></a>DATAHUB新建文档测试</h1><h2 id="DATAHUB问题记录："><a href="#DATAHUB问题记录：" class="headerlink" title="DATAHUB问题记录："></a>DATAHUB问题记录：</h2><h3 id="以下为代码块显示测试"><a href="#以下为代码块显示测试" class="headerlink" title="以下为代码块显示测试"></a>以下为代码块显示测试</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">memParam.clear();</span><br><span class="line">           memParam.add(MsgListCustStrCVal.ORGANIZATIONID, organizationId);</span><br><span class="line">           memParam.add(MsgListCustStrCVal.DATAHUB_CUSTOMERID, datahubCustomerId);</span><br><span class="line">           memParam.add(MsgListCustStrCVal.MESSAGEID, messageId);</span><br><span class="line">           memParam.addNoIn(MsgListCustStrCVal.MESSAGETYPE, <span class="string">"H"</span>);</span><br><span class="line">           memParam.addNoIn(MsgListCustStrCVal.INOUT, <span class="string">"O"</span>);</span><br><span class="line">           BizComponent bizMsgType = MemConfigUtils.getInstance().getMsgConfig(MsgListCustStrCVal.CACHE_ID, memParam);</span><br><span class="line">           List&lt;String&gt; detailStdTable = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">           <span class="keyword">for</span> (RecordMap&lt;String, Object&gt; record : bizMsgType.getRecords()) &#123; </span><br><span class="line">               detailStdTable.add(tableUtil.getStdTable(organizationId, datahubCustomerId, messageId, stdNo, record.getFieldValue(DatahubCommonCVal.MESSAGETYPE),</span><br><span class="line">                       messageGroupSysId));</span><br><span class="line">           &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> DATAHUB_TEST </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DATAHUB_TEST </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DATAHUB</title>
      <link href="/2019/09/06/DATAHUB/"/>
      <url>/2019/09/06/DATAHUB/</url>
      
        <content type="html"><![CDATA[<p>DATAHUB</p><p>DATAHUB问题记录：</p><p>以下为代码块显示测试</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">memParam.clear();</span><br><span class="line">           memParam.add(MsgListCustStrCVal.ORGANIZATIONID, organizationId);</span><br><span class="line">           memParam.add(MsgListCustStrCVal.DATAHUB_CUSTOMERID, datahubCustomerId);</span><br><span class="line">           memParam.add(MsgListCustStrCVal.MESSAGEID, messageId);</span><br><span class="line">           memParam.addNoIn(MsgListCustStrCVal.MESSAGETYPE, <span class="string">"H"</span>);</span><br><span class="line">           memParam.addNoIn(MsgListCustStrCVal.INOUT, <span class="string">"O"</span>);</span><br><span class="line">           BizComponent bizMsgType = MemConfigUtils.getInstance().getMsgConfig(MsgListCustStrCVal.CACHE_ID, memParam);</span><br><span class="line">           List&lt;String&gt; detailStdTable = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">           <span class="keyword">for</span> (RecordMap&lt;String, Object&gt; record : bizMsgType.getRecords()) &#123; </span><br><span class="line">               detailStdTable.add(tableUtil.getStdTable(organizationId, datahubCustomerId, messageId, stdNo, record.getFieldValue(DatahubCommonCVal.MESSAGETYPE),</span><br><span class="line">                       messageGroupSysId));</span><br><span class="line">           &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> DATAHUB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DATAHUB </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
